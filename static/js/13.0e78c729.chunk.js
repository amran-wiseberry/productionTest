(this.webpackJsonpdemo2=this.webpackJsonpdemo2||[]).push([[13],{2800:function(e,a,t){"use strict";var n=t(5),r=t(69),l=t(6),c=t(0),i=t.n(c),o=t(8),s=t(583),m=t(118),u=t(2768),d=t(2749),f=t(112),E=t(587),g=t.n(E),p=t(586),v=t.n(p),h=t(202),b=Object(s.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(270,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:270},title:{flexGrow:1},hide:{display:"none"},drawer:{width:270,flexShrink:0},vShow:{visibility:"visible"},vHide:{visibility:"hidden"},drawerPaper:{overflow:"hidden",width:270},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:Object(r.a)({overflowX:"auto",flexGrow:1,padding:e.spacing(1),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-270},e.breakpoints.down("sm"),{marginRight:0,padding:e.spacing(1)}),contentShift:{overflowX:"auto",transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}}));a.a=function(e){var a,t=e.drawer,l=e.table,s=e.title,E=e.handleDrawer,p=e.drawerClosed,w=i.a.useState(!1),N=Object(n.a)(w,2),y=N[0],j=N[1];Object(c.useEffect)((function(){j(E)}),[E]),console.log("drawer");var S=b(),O=Object(m.a)();return i.a.createElement(c.Fragment,null,i.a.createElement(h.a,null,i.a.createElement("main",{className:Object(o.default)(S.content,Object(r.a)({},S.contentShift,y))},l),i.a.createElement(u.a,{className:Object(o.default)(S.drawer,(a={},Object(r.a)(a,S.vHide,!y),Object(r.a)(a,S.vShow,y),a)),variant:"persistent",anchor:"right",open:y,classes:{paper:S.drawerPaper}},i.a.createElement("div",{className:S.drawerHeader},i.a.createElement(f.a,{onClick:function(){j(!1),p()}},"ltr"===O.direction?i.a.createElement(v.a,null):i.a.createElement(g.a,null)),i.a.createElement("div",{className:"title"},"Filter ",s)),i.a.createElement(d.a,null),i.a.createElement("div",{className:"container-fluid mt-3"},t))))}},2830:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t(0),r=t.n(n);t(14);function l(e){return console.log(e),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("a",{href:"email:".concat(e.email)},e.email," ",console.log(e)),e.isUnsubscribed?r.a.createElement("i",{className:"fas fa-flag    "}):""))}},2831:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(0),r=t.n(n),l=t(76),c=t.n(l),i=t(117);function o(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,c()(e.date).format("DD/MM/YYYY")),r.a.createElement("div",null,e.flag?r.a.createElement(i.a,{background:"buyer",small:!0,character:"A"}):"")))}},2832:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(117);a.a=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(l.a,{small:!0,background:"buyer",character:"B"}),r.a.createElement(l.a,{small:!0,background:"virtualListing",character:"L"}),r.a.createElement(l.a,{small:!0,background:"tenant",character:"P"}),r.a.createElement(l.a,{small:!0,background:"marketReview",character:"S"}),r.a.createElement(l.a,{small:!0,background:"openHome",character:"T"})))}},2990:function(e,a,t){},3073:function(e,a,t){"use strict";t.r(a);var n=t(20),r=t.n(n),l=t(105),c=t(5),i=t(0),o=t.n(i),s=t(7),m=t(316),u=(t(2990),t(81)),d=t(570),f=t(166),E=t(462),g=function(e){var a=e.input,t=e.placeholder,n=e.meta,r=n.touched,l=n.error,c=n.warning;return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(f.a.Group,null,o.a.createElement(f.a.Control,Object.assign({},a,{placeholder:t,isInvalid:r&&l})),r&&(l&&o.a.createElement(f.a.Control.Feedback,{type:"invalid"},l)||c&&o.a.createElement("span",null,c)))))},p=Object(d.a)({form:"contactsFilterForm",validate:function(e){var a={};return e.username?e.username.length>15&&(a.username="Must be 15 characters or less"):a.username="Required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(a.email="Invalid email address"):a.email="Required",e.age?isNaN(Number(e.age))?a.age="Must be a number":Number(e.age)<18&&(a.age="Sorry, you must be at least 18 years old"):a.age="Required",a}})((function(e){var a=e.handleSubmit,t=(e.pristine,e.reset,e.submitting);return o.a.createElement("form",{onSubmit:a},o.a.createElement(u.a,{name:"firstName",type:"text",component:g,placeholder:"FirstName"}),o.a.createElement(u.a,{name:"lastName",type:"text",component:g,placeholder:"LastName"}),o.a.createElement(u.a,{name:"phone",type:"text",component:g,placeholder:"Phone"}),o.a.createElement(u.a,{name:"email",type:"email",component:g,placeholder:"Email"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement(u.a,{name:"unit",type:"text",component:g,placeholder:"Unit"})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(u.a,{name:"house",type:"text",component:g,placeholder:"House"}))),o.a.createElement(u.a,{name:"unit",type:"text",component:g,placeholder:"Unit"}),o.a.createElement(u.a,{name:"street",type:"text",component:g,placeholder:"Street"}),o.a.createElement(u.a,{name:"company",type:"text",component:g,placeholder:"Company"}),o.a.createElement("div",null,o.a.createElement(E.a,{type:"submit",disabled:t,variant:"primary"},"Submit")))})),v=t(2691),h=t(838),b=t(599),w=t(76),N=t.n(w),y=t(45),j=t(38),S=t(14),O=t(206),x=t(607),C=(t(2830),t(2831),t(2832)),F=t(90),k=t(786),R=t(4),H=t(9),M=t(18),P=function(e){var a=e.fields,t=e.edit;return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"d-flex pb-2"},o.a.createElement("input",{type:"text",id:"contactTag",className:"  form-control fix-rounded-right",required:!0}),o.a.createElement(S.a,{icon:!0,onClick:function(){return function(){var e,t;t=null===(e=document.getElementById("contactTag"))||void 0===e?void 0:e.value,a.push(t)}()}},o.a.createElement("i",{className:"fas fa-plus-circle"}))),a.map((function(e,n){return o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"d-flex pb-2",key:n},o.a.createElement(u.a,{name:e,component:M.a,edit:t}),o.a.createElement(S.a,{icon:!0,onClick:function(){return a.remove(n)}},o.a.createElement("i",{class:"fas fa-minus-circle    "}))))})))},L=(Object(R.combineValidators)({}),Object(s.b)((function(e){return console.log(e),{initialValues:{}}}),null)(Object(d.a)({form:"ContactSettings"})((function(e){var a=e.handleSubmit,t=e.pristine,n=e.submitting,c=e.invalid,s=(e.selectedValues,e.reports,e.closeModal),m=(e.id,function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());return Object(i.useEffect)((function(){}),[]),console.log(e),o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"settings-modal"},o.a.createElement("form",{className:"settings-form",onSubmit:a(m)},o.a.createElement(i.Fragment,null,o.a.createElement(j.a,{left:o.a.createElement(i.Fragment,null,o.a.createElement("h5",{className:"title"},"Contact Settings")),right:o.a.createElement(i.Fragment,null,o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"pl-2"},o.a.createElement(S.a,{onClick:s},"Cancel")),o.a.createElement("div",{className:"pl-2"},o.a.createElement(S.a,{type:"submit",disabled:c||t|n,className:"theme-button green-button"},"Save"))))}),o.a.createElement(H.a,{left:"Tags",noMargin:!0,right:o.a.createElement(i.Fragment,null,o.a.createElement(k.a,{name:"tags",component:P}))})))))})))),D=t(2759);var I=o.a.memo(Object(s.b)((function(e){return{contacts:e.contacts}}),m.a)((function(e){var a=e.contacts,t=e.handleChange,n=e.fetchMoreData,r=Object(i.useState)(!1),l=Object(c.a)(r,2),m=l[0],u=l[1],d=o.a.useMemo((function(){return[{Header:"Name",columns:[{Header:"Name",accessor:"name",Cell:function(e){var a=e.cell.value,t=e.cell.row.original;e.cell;return o.a.createElement(i.Fragment,null,o.a.createElement(v.a,{trigger:"hover",placement:"right",overlay:o.a.createElement(h.a,{id:"popover-basic"},o.a.createElement(b.a,{data:t}))},o.a.createElement("p",{className:"max-content "},a)))}},{Header:"Type",accessor:"type",Cell:function(e){e.cell.value,e.cell.row.original,e.cell;return o.a.createElement(C.a,null)}},{Header:"Email",accessor:"emails",Cell:function(e){var a,t=e.cell.value;e.cell.row.original,e.cell;return o.a.createElement("p",null,t?null===(a=t[0])||void 0===a?void 0:a.value:"")}},{Header:"Phone",accessor:"phones",Cell:function(e){var a,t=e.cell.value;e.cell.row.original,e.cell;return o.a.createElement("p",null,t?null===(a=t[0])||void 0===a?void 0:a.value:"")}},{Header:"Address",accessor:"addresses",Cell:function(e){var a,t=e.cell.value;e.cell.row.original,e.cell;return o.a.createElement("p",null,t?null===(a=t[0])||void 0===a?void 0:a.full_address:"")}},{Header:o.a.createElement("i",{className:"fas fa-users"}),accessor:"linked_contacts"},{Header:"Last Contacted",accessor:"last_contacted_date",Cell:function(e){var a=e.cell.value;return o.a.createElement("p",null,a?N()(a).format("DD/MM/YYYY"):"")}}]}]}),[]),f=Object(s.d)();return console.log(a),o.a.createElement(i.Fragment,null,m?o.a.createElement(F.a,{size:"lg",centered:!0,show:m,onHide:function(){return u(!1)}},o.a.createElement(L,null)):"",o.a.createElement(j.a,{className:"p-1",left:o.a.createElement(i.Fragment,null,o.a.createElement("h5",{className:"title"},"Contacts ",o.a.createElement(S.a,{onClick:function(){return u(!0)},icon:!0}," ",o.a.createElement("i",{class:"fas fa-cog    "})))," "),right:o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:"p-2"},o.a.createElement(S.a,{icon:!0}," ",o.a.createElement("i",{class:"fas fa-download"}))),o.a.createElement("div",{className:"p-2"},o.a.createElement(S.a,{icon:!0}," ",o.a.createElement("i",{class:"fas fa-mobile    "})," ")),o.a.createElement("div",{className:"p-2"},o.a.createElement(S.a,{icon:!0}," ",o.a.createElement("i",{class:"fas fa-envelope"}))),o.a.createElement("div",{className:"p-2"},o.a.createElement(x.a,null)),o.a.createElement("div",{className:"p-2"},o.a.createElement(S.a,{onClick:function(){return t()},className:"darkGrey-button text-white"}," ","Filter")),o.a.createElement("div",{className:"p-2"},o.a.createElement(S.a,{className:"green-button text-white"}," ","Add Contact")))}),o.a.createElement("div",{className:"dynamic-table"},a.entities?o.a.createElement(O.a,{handleChange:function(e){return console.log(e)},isEditable:!0,columns:d,data:a.entities,update:n,handleRowClick:function(a){f(y.a.openModal("ContactProfileModal",{contactProfileId:a.id})),e.contactSelected(a.id)}}):o.a.createElement("div",null,o.a.createElement(D.a,{animation:"wave",variant:"text"}),o.a.createElement(D.a,{animation:"wave",variant:"text"}),o.a.createElement(D.a,{animation:"wave",variant:"rect",width:"100%",height:"77vh"}))))}))),Y=t(2800);t(115),t(489),a.default=Object(s.b)((function(e){return{contacts:e.contacts}}),m.a)((function(e){var a=e.contacts,t=Object(i.useState)(null),n=Object(c.a)(t,2),s=(n[0],n[1],Object(i.useState)(null)),m=Object(c.a)(s,2),u=(m[0],m[1],Object(i.useState)()),d=Object(c.a)(u,2);d[0],d[1];Object(i.useEffect)((function(){var a={organisation:4};console.log(new URLSearchParams(a).toString()),e.contactsLoading(new URLSearchParams(a).toString())}),[]);console.log("drawer");var f=o.a.useState(!1),E=Object(c.a)(f,2),g=E[0],v=E[1],h=function(){var e=Object(l.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return o.a.createElement(i.Fragment,null,o.a.createElement(Y.a,{handleDrawer:g,table:o.a.createElement(i.Fragment,null,o.a.createElement(i.Fragment,null,o.a.createElement(I,{fetchMoreData:function(){if(console.log("fetched called"),a.otherResInfo.current_page!==a.otherResInfo.last_page){var t={organisation:4};t.page=a.otherResInfo.current_page+1,console.log(new URLSearchParams(t).toString()),e.contactFetchMore(new URLSearchParams(t).toString())}},handleChange:function(){console.log(""),v(!g)}}))),drawer:o.a.createElement(i.Fragment,null,o.a.createElement(p,{onSubmit:h}))}))}))}}]);
//# sourceMappingURL=13.0e78c729.chunk.js.map